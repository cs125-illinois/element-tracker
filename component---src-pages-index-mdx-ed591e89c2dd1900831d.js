(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{FtJ3:function(e,t,n){"use strict";var i=n("VLSD");t.a=i.instance},pfKO:function(e,t,n){"use strict";n.r(t),n.d(t,"_frontmatter",(function(){return ae})),n.d(t,"default",(function(){return oe}));n("rGqo"),n("yt8O"),n("Btvt"),n("RW0V"),n("91GP");var i=n("7ljp"),a=(n("jm62"),n("ioFf"),n("q1tI")),c=n.n(a),r=n("pVnL"),o=n.n(r),s=n("TSYQ"),l=n.n(s),p=n("ZeOK"),d=n("ICNK"),u=n("Y53p"),b=n("H+2d");function m(e){var t=e.children,n=e.className,i=e.content,a=e.fluid,r=e.text,s=e.textAlign,h=l()("ui",Object(p.a)(r,"text"),Object(p.a)(a,"fluid"),Object(p.c)(s),"container",n),O=Object(d.a)(m,e),f=Object(u.a)(m,e);return c.a.createElement(f,o()({},O,{className:h}),b.a.isNil(t)?i:t)}m.handledProps=["as","children","className","content","fluid","text","textAlign"];var h=m,O=n("85CM");n("Wt1U");function f(e){var t=e.children,n=e.className,i=e.compact,a=e.content,r=e.horizontal,s=e.piled,m=e.raised,h=e.size,O=e.stacked,g=l()("ui",h,Object(p.a)(i,"compact"),Object(p.a)(r,"horizontal"),Object(p.a)(s,"piled"),Object(p.a)(m,"raised"),Object(p.a)(O,"stacked"),"segments",n),j=Object(d.a)(f,e),v=Object(u.a)(f,e);return c.a.createElement(v,o()({},j,{className:g}),b.a.isNil(t)?a:t)}f.handledProps=["as","children","className","compact","content","horizontal","piled","raised","size","stacked"];var g=f;function j(e){var t=e.children,n=e.className,i=e.content,a=l()("inline",n),r=Object(d.a)(j,e),s=Object(u.a)(j,e);return c.a.createElement(s,o()({},r,{className:a}),b.a.isNil(t)?i:t)}j.handledProps=["as","children","className","content"];var v=j;function y(e){var t=e.attached,n=e.basic,i=e.children,a=e.circular,r=e.className,s=e.clearing,m=e.color,h=e.compact,O=e.content,f=e.disabled,g=e.floated,j=e.inverted,v=e.loading,k=e.placeholder,x=e.padded,T=e.piled,N=e.raised,R=e.secondary,w=e.size,S=e.stacked,C=e.tertiary,E=e.textAlign,P=e.vertical,W=l()("ui",m,w,Object(p.a)(n,"basic"),Object(p.a)(a,"circular"),Object(p.a)(s,"clearing"),Object(p.a)(h,"compact"),Object(p.a)(f,"disabled"),Object(p.a)(j,"inverted"),Object(p.a)(v,"loading"),Object(p.a)(k,"placeholder"),Object(p.a)(T,"piled"),Object(p.a)(N,"raised"),Object(p.a)(R,"secondary"),Object(p.a)(S,"stacked"),Object(p.a)(C,"tertiary"),Object(p.a)(P,"vertical"),Object(p.b)(t,"attached"),Object(p.b)(x,"padded"),Object(p.c)(E),Object(p.d)(g,"floated"),"segment",r),L=Object(d.a)(y,e),F=Object(u.a)(y,e);return c.a.createElement(F,o()({},L,{className:W}),b.a.isNil(i)?O:i)}y.handledProps=["as","attached","basic","children","circular","className","clearing","color","compact","content","disabled","floated","inverted","loading","padded","piled","placeholder","raised","secondary","size","stacked","tertiary","textAlign","vertical"],y.Group=g,y.Inline=v;var k=y,x=(n("Zz4T"),n("MVZn")),T=n.n(x),N=n("lwsE"),R=n.n(N),w=n("W8MJ"),S=n.n(w),C=n("a1gu"),E=n.n(C),P=n("Nsbk"),W=n.n(P),L=n("PJYZ"),F=n.n(L),U=n("7W2i"),B=n.n(U),I=n("lSNA"),z=n.n(I),A=n("Og4/"),D=n.n(A),M=n("FtJ3"),J=n("nPHS"),H=n("J2iB"),V=n.n(H),q=function(e,t){var n=t.maxWidth;return function(e,t){return!!V()(t)||e>=t}(e,t.minWidth)&&function(e,t){return!!V()(t)||e<=t}(e,n)},K=function(e){function t(){var e,n;R()(this,t);for(var i=arguments.length,a=new Array(i),c=0;c<i;c++)a[c]=arguments[c];return n=E()(this,(e=W()(t)).call.apply(e,[this].concat(a))),z()(F()(n),"state",{visible:!0}),z()(F()(n),"handleResize",(function(e){n.ticking||(n.ticking=!0,n.frameId=requestAnimationFrame((function(){return n.handleUpdate(e)})))})),z()(F()(n),"handleUpdate",(function(e){n.ticking=!1;var t=n.state.visible,i=D()(n.props,"getWidth"),a=q(i,n.props);t!==a&&n.setState({visible:a}),D()(n.props,"onUpdate",e,T()({},n.props,{width:i}))})),n}return B()(t,e),S()(t,[{key:"componentDidMount",value:function(){var e=this.props.fireOnMount;M.a.sub("resize",this.handleResize,{target:"window"}),e&&this.handleUpdate()}},{key:"componentWillUnmount",value:function(){M.a.unsub("resize",this.handleResize,{target:"window"}),cancelAnimationFrame(this.frameId)}},{key:"render",value:function(){var e=this.props.children,n=this.state.visible,i=Object(u.a)(t,this.props),a=Object(d.a)(t,this.props);return n?c.a.createElement(i,a,e):null}}],[{key:"getDerivedStateFromProps",value:function(e){var t=D()(e,"getWidth");return{visible:q(t,e)}}}]),t}(a.Component);function Y(e){var t=e.attached,n=e.children,i=e.className,a=e.close,r=e.content,s=e.dividing,m=e.internal,h=e.position,O=e.size,f=l()("ui",h,O,Object(p.a)(t,"attached"),Object(p.a)(s,"dividing"),Object(p.a)(m,"internal"),Object(p.b)(a,"close"),"rail",i),g=Object(d.a)(Y,e),j=Object(u.a)(Y,e);return c.a.createElement(j,o()({},g,{className:f}),b.a.isNil(n)?r:n)}z()(K,"defaultProps",{getWidth:function(){return Object(J.a)()?window.innerWidth:0}}),z()(K,"onlyMobile",{minWidth:320,maxWidth:767}),z()(K,"onlyTablet",{minWidth:768,maxWidth:991}),z()(K,"onlyComputer",{minWidth:992}),z()(K,"onlyLargeScreen",{minWidth:1200,maxWidth:1919}),z()(K,"onlyWidescreen",{minWidth:1920}),z()(K,"handledProps",["as","children","fireOnMount","getWidth","maxWidth","minWidth","onUpdate"]),Y.handledProps=["as","attached","children","className","close","content","dividing","internal","position","size"];var Z=Y,G=n("U8pU"),_=function(e){return null!==e&&"object"===Object(G.a)(e)&&e.hasOwnProperty("current")},X=function(e){function t(){var e,n;R()(this,t);for(var i=arguments.length,c=new Array(i),r=0;r<i;r++)c[r]=arguments[r];return n=E()(this,(e=W()(t)).call.apply(e,[this].concat(c))),z()(F()(n),"state",{sticky:!1}),z()(F()(n),"stickyRef",Object(a.createRef)()),z()(F()(n),"triggerRef",Object(a.createRef)()),z()(F()(n),"addListeners",(function(e){var t=e.scrollContext,i=_(t)?t.current:t;i&&(M.a.sub("resize",n.handleUpdate,{target:i}),M.a.sub("scroll",n.handleUpdate,{target:i}))})),z()(F()(n),"removeListeners",(function(){var e=n.props.scrollContext,t=_(e)?e.current:e;t&&(M.a.unsub("resize",n.handleUpdate,{target:t}),M.a.unsub("scroll",n.handleUpdate,{target:t}))})),z()(F()(n),"update",(function(e){var t=n.state.pushing;if(n.ticking=!1,n.assignRects(),t)return n.didReachStartingPoint()?n.stickToContextTop(e):n.didTouchScreenBottom()?n.stickToScreenBottom(e):n.stickToContextBottom(e);if(n.isOversized()){if(n.contextRect.top>0)return n.stickToContextTop(e);if(n.contextRect.bottom<window.innerHeight)return n.stickToContextBottom(e)}return n.didTouchScreenTop()?n.didReachContextBottom()?n.stickToContextBottom(e):n.stickToScreenTop(e):n.stickToContextTop(e)})),z()(F()(n),"handleUpdate",(function(e){n.ticking||(n.ticking=!0,n.frameId=requestAnimationFrame((function(){return n.update(e)})))})),z()(F()(n),"assignRects",(function(){var e=n.props.context,t=_(e)?e.current:e||document.body;n.triggerRect=n.triggerRef.current.getBoundingClientRect(),n.contextRect=t.getBoundingClientRect(),n.stickyRect=n.stickyRef.current.getBoundingClientRect()})),z()(F()(n),"didReachContextBottom",(function(){var e=n.props.offset;return n.stickyRect.height+e>=n.contextRect.bottom})),z()(F()(n),"didReachStartingPoint",(function(){return n.stickyRect.top<=n.triggerRect.top})),z()(F()(n),"didTouchScreenTop",(function(){return n.triggerRect.top<n.props.offset})),z()(F()(n),"didTouchScreenBottom",(function(){var e=n.props.bottomOffset;return n.contextRect.bottom+e>window.innerHeight})),z()(F()(n),"isOversized",(function(){return n.stickyRect.height>window.innerHeight})),z()(F()(n),"pushing",(function(e){n.props.pushing&&n.setState({pushing:e})})),z()(F()(n),"stick",(function(e,t){n.setState({bound:t,sticky:!0}),D()(n.props,"onStick",e,n.props)})),z()(F()(n),"unstick",(function(e,t){n.setState({bound:t,sticky:!1}),D()(n.props,"onUnstick",e,n.props)})),z()(F()(n),"stickToContextBottom",(function(e){D()(n.props,"onBottom",e,n.props),n.stick(e,!0),n.pushing(!0)})),z()(F()(n),"stickToContextTop",(function(e){D()(n.props,"onTop",e,n.props),n.unstick(e,!1),n.pushing(!1)})),z()(F()(n),"stickToScreenBottom",(function(e){var t=n.props.bottomOffset;n.stick(e,!1),n.setState({bottom:t,top:null})})),z()(F()(n),"stickToScreenTop",(function(e){var t=n.props.offset;n.stick(e,!1),n.setState({top:t,bottom:null})})),n}return B()(t,e),S()(t,[{key:"componentDidMount",value:function(){Object(J.a)()&&(this.props.active&&(this.handleUpdate(),this.addListeners(this.props)))}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=this.props,n=t.active,i=t.scrollContext,a=e.active,c=e.scrollContext;if(n!==a){if(a)return this.handleUpdate(),void this.addListeners(e);this.removeListeners(),this.setState({sticky:!1})}else i!==c&&(this.removeListeners(),this.addListeners(e))}},{key:"componentWillUnmount",value:function(){Object(J.a)()&&(this.props.active&&(this.removeListeners(),cancelAnimationFrame(this.frameId)))}},{key:"computeStyle",value:function(){var e=this.props.styleElement,t=this.state,n=t.bottom,i=t.bound,a=t.sticky,c=t.top;return a?T()({bottom:i?0:n,top:i?void 0:c,width:this.triggerRect.width},e):e}},{key:"render",value:function(){var e=this.props,n=e.children,i=e.className,a=this.state,r=a.bottom,s=a.bound,p=a.sticky,b=Object(d.a)(t,this.props),m=Object(u.a)(t,this.props),h=l()(p&&"ui",p&&"stuck-container",p&&(s?"bound-container":"fixed-container"),i),O=l()("ui",p&&(s?"bound bottom":"fixed"),p&&!s&&(null===r?"top":"bottom"),"sticky"),f=p&&this.stickyRect?{height:this.stickyRect.height}:{};return c.a.createElement(m,o()({},b,{className:h}),c.a.createElement("div",{ref:this.triggerRef,style:f}),c.a.createElement("div",{className:O,ref:this.stickyRef,style:this.computeStyle()},n))}}]),t}(a.Component);z()(X,"defaultProps",{active:!0,bottomOffset:0,offset:0,scrollContext:Object(J.a)()?window:null}),z()(X,"handledProps",["active","as","bottomOffset","children","className","context","offset","onBottom","onStick","onTop","onUnstick","pushing","scrollContext","styleElement"]);var Q=n("mvAy");function $(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function ee(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var te=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$(Object(n),!0).forEach((function(t){ee(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({code:Q.a},Q.e),ne=function(e){var t=e.children,n=Object(a.useRef)();return c.a.createElement(h,{text:!0,style:{paddingTop:16,paddingBottom:16}},c.a.createElement(O.a,{innerRef:n},c.a.createElement(k,{basic:!0},c.a.createElement(K,{minWidth:1200},c.a.createElement(Z,{position:"right"},c.a.createElement(X,{context:n},c.a.createElement(k,{basic:!0,style:{paddingTop:64}},c.a.createElement(Q.c,null))))),c.a.createElement(i.a,{components:te},t))))},ie=n("DxK7");var ae={},ce={_frontmatter:ae},re=ne;function oe(e){var t=e.components,n=function(e,t){if(null==e)return{};var n,i,a={},c=Object.keys(e);for(i=0;i<c.length;i++)n=c[i],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,["components"]);return Object(i.b)(re,Object.assign({},ce,n,{components:t,mdxType:"MDXLayout"}),Object(i.b)(Q.d,{tags:["h2"],mdxType:"UpdateHash"}),Object(i.b)("h1",null,Object(i.b)("inlineCode",{parentName:"h1"},"@cs125/element-tracker")),Object(i.b)("p",null,Object(i.b)("img",Object.assign({parentName:"p"},{src:"https://img.shields.io/npm/v/@cs125/element-tracker",alt:"npm"})),"\n",Object(i.b)("img",Object.assign({parentName:"p"},{src:"https://img.shields.io/docker/v/cs125/element-tracker?color=green&label=Docker&sort=date",alt:"Docker Image Version (latest by date)"})),"\n",Object(i.b)("a",Object.assign({parentName:"p"},{href:"https://opensource.org/licenses/MIT"}),Object(i.b)("img",Object.assign({parentName:"a"},{src:"https://img.shields.io/badge/License-MIT-yellow.svg",alt:"License: MIT"})))),Object(i.b)(Q.b,{style:{float:"right"},mdxType:"LoginButton"}),Object(i.b)("h2",null,"Install"),Object(i.b)("pre",null,Object(i.b)("code",Object.assign({parentName:"pre"},{className:"language-bash"}),"npm i @cs125/element-tracker # client\ndocker pull cs125/element-tracker # server\n")),Object(i.b)("h2",null,"Use"),Object(i.b)("p",null,Object(i.b)("inlineCode",{parentName:"p"},"@cs125/element-tracker")," has both a client and a server component."),Object(i.b)("h3",null,"Client"),Object(i.b)("p",null,"First, wrap your app in the ",Object(i.b)("inlineCode",{parentName:"p"},"<ElementTracker />")," component:"),Object(i.b)("pre",null,Object(i.b)("code",Object.assign({parentName:"pre"},{className:"language-tsx"}),'const App: React.FC = () => {\n  return (\n    <ElementTracker tags=["h1", "h2"]>\n      <RestOfYourApp />\n    </ElementTracker>\n  )\n}\n')),Object(i.b)("p",null,"Then you can use the ",Object(i.b)("inlineCode",{parentName:"p"},"ElementTracker")," to retrieve a list of all the components matching the tags you provided and their\npositions on the page."),Object(i.b)("pre",null,Object(i.b)("code",Object.assign({parentName:"pre"},{className:"language-tsx"}),'import { useElementTracker } from "@cs125/element-tracker"\n\nconst MyComponent: React.FC = ({}) => {\n  const { components } = useElementTracker()\n}\n')),Object(i.b)("p",null,"For examples see ",Object(i.b)("a",Object.assign({parentName:"p"},{href:"https://github.com/cs125-illinois/element-tracker/blob/master/example/components.tsx"}),Object(i.b)("inlineCode",{parentName:"a"},"components.tsx"))," in the example\nsubdirectory of the repository.\nBoth the window hash updating and the sidebar navigation on this page are built using this component."),Object(i.b)("h3",null,"Server"),Object(i.b)("p",null,Object(i.b)("inlineCode",{parentName:"p"},"@cs125/element-tracker")," can report browsing activity to a remote server.\nTo enable this set up the server using the Docker container and pass the websocket URL to your client."),Object(i.b)("h2",null,"Dummy Content"),Object(i.b)("p",null,"Some dummy content follows to make the page long enough for the sidebar navigation to kick in.\nFirst, a flasher to test our mutation listener."),Object(i.b)("h2",null,"First"),Object(i.b)(ie.a,{p:2,mdxType:"LoremIpsum"}),Object(i.b)("h3",null,"First First"),Object(i.b)(ie.a,{p:1,mdxType:"LoremIpsum"}),Object(i.b)("h3",null,"First Second"),Object(i.b)(ie.a,{p:3,mdxType:"LoremIpsum"}),Object(i.b)("h4",null,"First Second First"),Object(i.b)(ie.a,{p:3,mdxType:"LoremIpsum"}),Object(i.b)("h2",null,"Second"),Object(i.b)(ie.a,{p:4,mdxType:"LoremIpsum"}),Object(i.b)("h3",null,"Second First"),Object(i.b)(ie.a,{p:1,mdxType:"LoremIpsum"}),Object(i.b)("h4",null,"Second First First"),Object(i.b)(ie.a,{p:1,mdxType:"LoremIpsum"}),Object(i.b)("h2",null,"Last"),Object(i.b)(ie.a,{p:1,mdxType:"LoremIpsum"}))}oe.isMDXComponent=!0}}]);
//# sourceMappingURL=component---src-pages-index-mdx-ed591e89c2dd1900831d.js.map